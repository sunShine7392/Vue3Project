import{a as u}from"./index.becf6c0c.js";import{K as r,u as o,L as a,M as i}from"./index.fbf6442c.js";const t=u.create({baseURL:"/app-prod",timeout:2e4});t.interceptors.request.use(e=>e);t.interceptors.response.use(async e=>{const s=e.data;return s.code!==2e4&&s.code!==200?(r({message:typeof s.data=="string"&&s.data||s.message||"Error",type:"error",duration:5*1e3}),e.status===401&&(await o(a).reset(),window.location.href="/",i.alert("\u4F60\u5DF2\u88AB\u767B\u51FA\uFF0C\u8BF7\u91CD\u65B0\u767B\u5F55","\u63D0\u793A",{}).then(()=>{}).catch(()=>{})),Promise.reject(t.interceptors.response)):s.data},e=>(e.message.indexOf("timeout")!=-1?r.error("\u7F51\u7EDC\u8D85\u65F6"):e.message=="Network Error"?r.error("\u7F51\u7EDC\u8FDE\u63A5\u9519\u8BEF"):e.response.data?r.error(e.response.statusText):r.error("\u63A5\u53E3\u8DEF\u5F84\u627E\u4E0D\u5230"),Promise.reject(e)));export{t as s};
